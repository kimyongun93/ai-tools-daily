@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== 라이트 테마 (기본) ===== */
:root {
  --bg: #ffffff;
  --surface: #f8f9fb;
  --surface2: #f0f2f5;
  --border: #e2e5ea;
  --text: #1a1d27;
  --text-dim: #6b7280;
  --accent: #4f8ff7;
}

/* ===== 다크 테마 — data-theme 속성 또는 시스템 설정 ===== */
[data-theme="dark"] {
  --bg: #0f1117;
  --surface: #1a1d27;
  --surface2: #242836;
  --border: #2e3345;
  --text: #e4e7ef;
  --text-dim: #8b90a0;
  --accent: #4f8ff7;
}

/* data-theme이 없을 때(초기 로드) 시스템 설정 반영 */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --bg: #0f1117;
    --surface: #1a1d27;
    --surface2: #242836;
    --border: #2e3345;
    --text: #e4e7ef;
    --text-dim: #8b90a0;
    --accent: #4f8ff7;
  }
}

body {
  background-color: var(--bg);
  color: var(--text);
  -webkit-tap-highlight-color: transparent;
}

/* 스크롤바 */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }

/* PWA 독립 모드 */
@media (display-mode: standalone) {
  .install-prompt { display: none !important; }
}

/* ===== 애니메이션 ===== */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateX(-50%) translateY(10px); }
  to { opacity: 1; transform: translateX(-50%) translateY(0); }
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideDown {
  from { opacity: 1; transform: translateY(0); }
  to { opacity: 0; transform: translateY(20px); }
}

/* ===== 모바일 최적화 ===== */

/* 모바일 액션 버튼 항상 표시 */
@media (max-width: 768px) {
  .group .opacity-0 {
    opacity: 1 !important;
  }
}

/* 하단 내비 safe area */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .bottom-nav-safe {
    padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 8px);
  }
}
